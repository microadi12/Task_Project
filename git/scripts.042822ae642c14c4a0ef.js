!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(i){return e(t,i)}):"object"==typeof exports?e(t,require("jquery")):e(t,t.jQuery||t.Zepto)}(this,function(t,e){"use strict";function i(t){if(C&&"none"===t.css("animation-name")&&"none"===t.css("-webkit-animation-name")&&"none"===t.css("-moz-animation-name")&&"none"===t.css("-o-animation-name")&&"none"===t.css("-ms-animation-name"))return 0;var e,i,n,s,a=t.css("animation-duration")||t.css("-webkit-animation-duration")||t.css("-moz-animation-duration")||t.css("-o-animation-duration")||t.css("-ms-animation-duration")||"0s",o=t.css("animation-delay")||t.css("-webkit-animation-delay")||t.css("-moz-animation-delay")||t.css("-o-animation-delay")||t.css("-ms-animation-delay")||"0s",r=t.css("animation-iteration-count")||t.css("-webkit-animation-iteration-count")||t.css("-moz-animation-iteration-count")||t.css("-o-animation-iteration-count")||t.css("-ms-animation-iteration-count")||"1";for(a=a.split(", "),o=o.split(", "),r=r.split(", "),s=0,i=a.length,e=Number.NEGATIVE_INFINITY;s<i;s++)(n=parseFloat(a[s])*parseInt(r[s],10)+parseFloat(o[s]))>e&&(e=n);return e}function n(){if(e(document).height()<=e(window).height())return 0;var t,i,n=document.createElement("div"),s=document.createElement("div");return n.style.visibility="hidden",n.style.width="100px",document.body.appendChild(n),t=n.offsetWidth,n.style.overflow="scroll",s.style.width="100%",n.appendChild(s),i=s.offsetWidth,n.parentNode.removeChild(n),t-i}function s(){if(!b){var t,i,s=e("html"),a=l("is-locked");s.hasClass(a)&&(i=e(document.body),t=parseInt(i.css("padding-right"),10)-n(),i.css("padding-right",t+"px"),s.removeClass(a))}}function a(t,e,i,n){var s=l("is",e),a=[l("is",v.CLOSING),l("is",v.OPENING),l("is",v.CLOSED),l("is",v.OPENED)].join(" ");t.$bg.removeClass(a).addClass(s),t.$overlay.removeClass(a).addClass(s),t.$wrapper.removeClass(a).addClass(s),t.$modal.removeClass(a).addClass(s),t.state=e,!i&&t.$modal.trigger({type:e,reason:n},[{reason:n}])}function o(t,n,s){var a=0,o=function(t){t.target===this&&a++},r=function(t){t.target===this&&0==--a&&(e.each(["$bg","$overlay","$wrapper","$modal"],function(t,e){s[e].off(m+" "+u)}),n())};e.each(["$bg","$overlay","$wrapper","$modal"],function(t,e){s[e].on(m,o).on(u,r)}),t(),0===i(s.$bg)&&0===i(s.$overlay)&&0===i(s.$wrapper)&&0===i(s.$modal)&&(e.each(["$bg","$overlay","$wrapper","$modal"],function(t,e){s[e].off(m+" "+u)}),n())}function r(t){t.state!==v.CLOSED&&(e.each(["$bg","$overlay","$wrapper","$modal"],function(e,i){t[i].off(m+" "+u)}),t.$bg.removeClass(t.settings.modifier),t.$overlay.removeClass(t.settings.modifier).hide(),t.$wrapper.hide(),s(),a(t,v.CLOSED,!0))}function l(){for(var t=p,e=0;e<arguments.length;++e)t+="-"+arguments[e];return t}function d(){var t,i,n=location.hash.replace("#","");if(n){try{i=e('[data-remodal-id="'+n+'"]')}catch(t){}i&&i.length&&(t=e[g].lookup[i.data(g)])&&t.settings.hashTracking&&t.open()}else f&&f.state===v.OPENED&&f.settings.hashTracking&&f.close()}function c(t,i){var n=e(document.body),s=this;s.settings=e.extend({},y,i),s.index=e[g].lookup.push(s)-1,s.state=v.CLOSED,s.$overlay=e("."+l("overlay")),null!==s.settings.appendTo&&s.settings.appendTo.length&&(n=e(s.settings.appendTo)),s.$overlay.length||(s.$overlay=e("<div>").addClass(l("overlay")+" "+l("is",v.CLOSED)).hide(),n.append(s.$overlay)),s.$bg=e("."+l("bg")).addClass(l("is",v.CLOSED)),s.$modal=t.addClass(p+" "+l("is-initialized")+" "+s.settings.modifier+" "+l("is",v.CLOSED)).attr("tabindex","-1"),s.$wrapper=e("<div>").addClass(l("wrapper")+" "+s.settings.modifier+" "+l("is",v.CLOSED)).hide().append(s.$modal),n.append(s.$wrapper),s.$wrapper.on("click."+p,'[data-remodal-action="close"]',function(t){t.preventDefault(),s.close()}),s.$wrapper.on("click."+p,'[data-remodal-action="cancel"]',function(t){t.preventDefault(),s.$modal.trigger($.CANCELLATION),s.settings.closeOnCancel&&s.close($.CANCELLATION)}),s.$wrapper.on("click."+p,'[data-remodal-action="confirm"]',function(t){t.preventDefault(),s.$modal.trigger($.CONFIRMATION),s.settings.closeOnConfirm&&s.close($.CONFIRMATION)}),s.$wrapper.on("click."+p,function(t){e(t.target).hasClass(l("wrapper"))&&s.settings.closeOnOutsideClick&&s.close()})}var f,h,g="remodal",p=t.REMODAL_GLOBALS&&t.REMODAL_GLOBALS.NAMESPACE||g,m=e.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(t){return t+"."+p}).join(" "),u=e.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(t){return t+"."+p}).join(" "),y=e.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:"",appendTo:null},t.REMODAL_GLOBALS&&t.REMODAL_GLOBALS.DEFAULTS),v={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},$={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"},C=function(){var t=document.createElement("div").style;return void 0!==t.animationName||void 0!==t.WebkitAnimationName||void 0!==t.MozAnimationName||void 0!==t.msAnimationName||void 0!==t.OAnimationName}(),b=/iPad|iPhone|iPod/.test(navigator.platform);c.prototype.open=function(){var t,i=this;i.state!==v.OPENING&&i.state!==v.CLOSING&&((t=i.$modal.attr("data-remodal-id"))&&i.settings.hashTracking&&(h=e(window).scrollTop(),location.hash=t),f&&f!==i&&r(f),f=i,function(){if(!b){var t,i,s=e("html"),a=l("is-locked");s.hasClass(a)||(i=e(document.body),t=parseInt(i.css("padding-right"),10)+n(),i.css("padding-right",t+"px"),s.addClass(a))}}(),i.$bg.addClass(i.settings.modifier),i.$overlay.addClass(i.settings.modifier).show(),i.$wrapper.show().scrollTop(0),i.$modal.focus(),o(function(){a(i,v.OPENING)},function(){a(i,v.OPENED)},i))},c.prototype.close=function(t){var i=this;i.state!==v.OPENING&&i.state!==v.CLOSING&&i.state!==v.CLOSED&&(i.settings.hashTracking&&i.$modal.attr("data-remodal-id")===location.hash.substr(1)&&(location.hash="",e(window).scrollTop(h)),o(function(){a(i,v.CLOSING,!1,t)},function(){i.$bg.removeClass(i.settings.modifier),i.$overlay.removeClass(i.settings.modifier).hide(),i.$wrapper.hide(),s(),a(i,v.CLOSED,!1,t)},i))},c.prototype.getState=function(){return this.state},c.prototype.destroy=function(){var t=e[g].lookup;r(this),this.$wrapper.remove(),delete t[this.index],0===e.grep(t,function(t){return!!t}).length&&(this.$overlay.remove(),this.$bg.removeClass(l("is",v.CLOSING)+" "+l("is",v.OPENING)+" "+l("is",v.CLOSED)+" "+l("is",v.OPENED)))},e[g]={lookup:[]},e.fn[g]=function(t){var i,n;return this.each(function(s,a){null==(n=e(a)).data(g)?(i=new c(n,t),n.data(g,i.index),i.settings.hashTracking&&n.attr("data-remodal-id")===location.hash.substr(1)&&i.open()):i=e[g].lookup[n.data(g)]}),i},e(document).ready(function(){e(document).on("click","[data-remodal-target]",function(t){t.preventDefault();var i=t.currentTarget.getAttribute("data-remodal-target"),n=e('[data-remodal-id="'+i+'"]');e[g].lookup[n.data(g)].open()}),e(document).find("."+p).each(function(t,i){var n=e(i),s=n.data("remodal-options");s?("string"==typeof s||s instanceof String)&&(s=function(t){var e,i,n,s,a={};for(s=0,i=(e=(t=t.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,",")).split(",")).length;s<i;s++)e[s]=e[s].split(":"),("string"==typeof(n=e[s][1])||n instanceof String)&&(n="true"===n||"false"!==n&&n),("string"==typeof n||n instanceof String)&&(n=isNaN(n)?n:+n),a[e[s][0]]=n;return a}(s)):s={},n[g](s)}),e(document).on("keydown."+p,function(t){f&&f.settings.closeOnEscape&&f.state===v.OPENED&&27===t.keyCode&&f.close()}),e(window).on("hashchange."+p,d)})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(e,n,s){s=t.extend(!0,{},n={content:{message:"object"==typeof n?n.message:n,title:n.title?n.title:"",icon:n.icon?n.icon:"",url:n.url?n.url:"#",target:n.target?n.target:"-"}},s),this.settings=t.extend(!0,{},i,s),this._defaults=i,"-"==this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),this.init()}var i={element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};String.format=function(){for(var t=arguments[0],e=1;e<arguments.length;e++)t=t.replace(RegExp("\\{"+(e-1)+"\\}","gm"),arguments[e]);return t},t.extend(e.prototype,{init:function(){var t=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.styleDismiss(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(e,i){var n={};for(var e in"string"==typeof e?n[e]=i:n=e,n)switch(e){case"type":this.$ele.removeClass("alert-"+t.settings.type),this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+t.settings.type),t.settings.type=n[e],this.$ele.addClass("alert-"+n[e]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+n[e]);break;case"icon":var s=this.$ele.find('[data-notify="icon"]');"class"==t.settings.icon_type.toLowerCase()?s.removeClass(t.settings.content.icon).addClass(n[e]):(s.is("img")||s.find("img"),s.attr("src",n[e]));break;case"progress":this.$ele.data("notify-delay",t.settings.delay-t.settings.delay*(n[e]/100)),this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",n[e]).css("width",n[e]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",n[e]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",n[e]);break;default:this.$ele.find('[data-notify="'+e+'"]').html(n[e])}var a=this.$ele.outerHeight()+parseInt(t.settings.spacing)+parseInt(t.settings.offset.y);t.reposition(a)},close:function(){t.close()}}},buildNotify:function(){var e=this.settings.content;this.$ele=t(String.format(this.settings.template,this.settings.type,e.title,e.message,e.url,e.target)),this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none"),(this.settings.delay<=0&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"==this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleDismiss:function(){this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:"0px",position:"absolute",top:"0px",width:"100%",zIndex:this.settings.z_index+1})},placement:function(){var e=this,i=this.settings.offset.y,n={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},s=!1,a=this.settings;switch(t('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each(function(){return i=Math.max(i,parseInt(t(this).css(a.placement.from))+parseInt(t(this).outerHeight())+parseInt(a.spacing))}),1==this.settings.newest_on_top&&(i=this.settings.offset.y),n[this.settings.placement.from]=i+"px",this.settings.placement.align){case"left":case"right":n[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":n.left=0,n.right=0}this.$ele.css(n).addClass(this.settings.animate.enter),t.each(Array("webkit","moz","o","ms",""),function(t,i){e.$ele[0].style[i+"AnimationIterationCount"]=1}),t(this.settings.element).append(this.$ele),1==this.settings.newest_on_top&&(i=parseInt(i)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(i)),t.isFunction(e.settings.onShow)&&e.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,function(t){s=!0}).one(this.animations.end,function(i){t.isFunction(e.settings.onShown)&&e.settings.onShown.call(this)}),setTimeout(function(){s||t.isFunction(e.settings.onShown)&&e.settings.onShown.call(this)},600)},bind:function(){var e=this;if(this.$ele.find('[data-notify="dismiss"]').on("click",function(){e.close()}),this.$ele.mouseover(function(e){t(this).data("data-hover","true")}).mouseout(function(e){t(this).data("data-hover","false")}),this.$ele.data("data-hover","false"),this.settings.delay>0){e.$ele.data("notify-delay",e.settings.delay);var i=setInterval(function(){var t=parseInt(e.$ele.data("notify-delay"))-e.settings.timer;if("false"===e.$ele.data("data-hover")&&"pause"==e.settings.mouse_over||"pause"!=e.settings.mouse_over){var n=(e.settings.delay-t)/e.settings.delay*100;e.$ele.data("notify-delay",t),e.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",n).css("width",n+"%")}t<=-e.settings.timer&&(clearInterval(i),e.close())},e.settings.timer)}},close:function(){var e=this,i=parseInt(this.$ele.css(this.settings.placement.from)),n=!1;this.$ele.data("closing","true").addClass(this.settings.animate.exit),e.reposition(i),t.isFunction(e.settings.onClose)&&e.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,function(t){n=!0}).one(this.animations.end,function(i){t(this).remove(),t.isFunction(e.settings.onClosed)&&e.settings.onClosed.call(this)}),setTimeout(function(){n||(e.$ele.remove(),e.settings.onClosed&&e.settings.onClosed(e.$ele))},600)},reposition:function(e){var i=this,n='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',s=this.$ele.nextAll(n);1==this.settings.newest_on_top&&(s=this.$ele.prevAll(n)),s.each(function(){t(this).css(i.settings.placement.from,e),e=parseInt(e)+parseInt(i.settings.spacing)+t(this).outerHeight()})}}),t.notify=function(t,i){return new e(this,t,i).notify},t.notifyDefaults=function(e){return i=t.extend(!0,{},i,e)},t.notifyClose=function(e){void 0===e||"all"==e?t("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):t('[data-notify-position="'+e+'"]').find('[data-notify="dismiss"]').trigger("click")}});